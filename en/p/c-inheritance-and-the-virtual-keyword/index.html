<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='This post is to revive the memories that have faded while using other languages. In this post, we will take a closer look at the inheritance relationship and the virtual keyword in C&#43;&#43;.
Inheritance Unlike other object-oriented languages like Java and C#, C&#43;&#43; allows specifying access specifiers during inheritance.
1 2 // syntax class Derived : &amp;lt;access_specifier&amp;gt; Parent This indicates how the elements of the parent class will be inherited when inheriting a parent class.'>
<title>C&#43;&#43; Inheritance and the Virtual Keyword</title>

<link rel='canonical' href='https://sangho0n.github.io/en/p/c-inheritance-and-the-virtual-keyword/'>

<link rel="stylesheet" href="/scss/style.min.abbd69b2908fdfcd5179898beaafd374514a86538d81639ddd2c58c06ae54e40.css"><meta property='og:title' content='C&#43;&#43; Inheritance and the Virtual Keyword'>
<meta property='og:description' content='This post is to revive the memories that have faded while using other languages. In this post, we will take a closer look at the inheritance relationship and the virtual keyword in C&#43;&#43;.
Inheritance Unlike other object-oriented languages like Java and C#, C&#43;&#43; allows specifying access specifiers during inheritance.
1 2 // syntax class Derived : &amp;lt;access_specifier&amp;gt; Parent This indicates how the elements of the parent class will be inherited when inheriting a parent class.'>
<meta property='og:url' content='https://sangho0n.github.io/en/p/c-inheritance-and-the-virtual-keyword/'>
<meta property='og:site_name' content='sanghoon&#39;s dev-log'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Technical Interview' /><meta property='article:tag' content='Language' /><meta property='article:tag' content='cpp' /><meta property='article:tag' content='cs' /><meta property='article:tag' content='Interview' /><meta property='article:published_time' content='2024-03-08T11:12:45&#43;09:00'/><meta property='article:modified_time' content='2024-03-08T11:12:45&#43;09:00'/><meta property='og:image' content='https://sangho0n.github.io/en/p/c-inheritance-and-the-virtual-keyword/img/cpp.svg' />
<meta name="twitter:title" content="C&#43;&#43; Inheritance and the Virtual Keyword">
<meta name="twitter:description" content="This post is to revive the memories that have faded while using other languages. In this post, we will take a closer look at the inheritance relationship and the virtual keyword in C&#43;&#43;.
Inheritance Unlike other object-oriented languages like Java and C#, C&#43;&#43; allows specifying access specifiers during inheritance.
1 2 // syntax class Derived : &amp;lt;access_specifier&amp;gt; Parent This indicates how the elements of the parent class will be inherited when inheriting a parent class."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://sangho0n.github.io/en/p/c-inheritance-and-the-virtual-keyword/img/cpp.svg' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/en/">
                
                    
                    
                    
                        
                        <img src="/avatar_hufa2a3a1a2b6d47cfb712fe4c06494714_9812_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ðŸ˜€</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/en">sanghoon&#39;s dev-log</a></h1>
            <h2 class="site-description">Welcome to my blog!</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/sangho0n'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://www.instagram.com/sanghoon_eat/'
                        target="_blank"
                        title="Instagram"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/en/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://sangho0n.github.io/ko/" >í•œêµ­ì–´</option>
                        
                            <option value="https://sangho0n.github.io/en/" selected>English</option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span></span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title"></h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#inheritance">Inheritance</a>
      <ol>
        <li><a href="#public">public</a></li>
        <li><a href="#private">private</a></li>
        <li><a href="#protected">protected</a></li>
        <li><a href="#casting">casting</a></li>
      </ol>
    </li>
    <li><a href="#is-implemented-in-terms-of">Is-Implemented-In-Terms-Of</a>
      <ol>
        <li><a href="#implementing-with-inheritance-vs-implementing-with-composition">Implementing with Inheritance vs. Implementing with Composition</a></li>
      </ol>
    </li>
    <li><a href="#polymorphism">Polymorphism</a>
      <ol>
        <li><a href="#virtual">virtual</a>
          <ol>
            <li><a href="#virtual-function">Virtual Function</a></li>
            <li><a href="#virtual-base-class">Virtual Base Class</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#references">References</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/en/p/c-inheritance-and-the-virtual-keyword/">
                
                    <img src="/en/p/c-inheritance-and-the-virtual-keyword/img/cpp.svg" loading="lazy" alt="Featured image of post C&#43;&#43; Inheritance and the Virtual Keyword" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/en/categories/c&#43;&#43;/" >
                C&#43;&#43;
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/en/p/c-inheritance-and-the-virtual-keyword/">C&#43;&#43; Inheritance and the Virtual Keyword</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2024-03-08</time>
            </div>
        

    </footer>
    

    
        <footer class="article-translations">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



            <div>
                
                    <a href="https://sangho0n.github.io/ko/p/c-%EC%83%81%EC%86%8D%EA%B3%BC-virtual-%ED%82%A4%EC%9B%8C%EB%93%9C/" class="link">í•œêµ­ì–´</a>
                
            </div>
        </footer>
    
</div>

</header>

    <section class="article-content">
    
    
    <p>This post is to revive the memories that have faded while using other languages.
In this post, we will take a closer look at the <strong>inheritance</strong> relationship and the <strong>virtual</strong> keyword in C++.</p>
<hr>
<h2 id="inheritance">Inheritance</h2>
<p>Unlike other object-oriented languages like Java and C#, C++ allows specifying access specifiers during inheritance.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// syntax
</span></span><span class="line"><span class="cl">class Derived : &lt;access_specifier&gt; Parent
</span></span></code></pre></td></tr></table>
</div>
</div><p>This indicates how the elements of the parent class will be inherited when inheriting a parent class.
Think of it as replacing the elements specified loosely by the <code>access_specifier</code> with the specified type.</p>
<p>Let&rsquo;s examine three types of classes that inherit the following class:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Base</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">pubInt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">privInt</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">protected</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">protInt</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="public">public</h3>
<p>Used to represent the is-a relationship. It follows the access specifier of the parent.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Pub</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base</span> <span class="c1">// is-a
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">Pub</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">pubInt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// public
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//privInt = 2; // cannot access as it is private in the parent class
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">protInt</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// protected
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Therefore, externally, only the <code>pubInt</code> specified as public in the parent class can be accessed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl">    <span class="n">Pub</span><span class="o">*</span> <span class="n">pub</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Pub</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">pub</span><span class="o">-&gt;</span><span class="n">pubInt</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//cout &lt;&lt; pub-&gt;privInt &lt;&lt; endl; //error: â€˜int Base::privIntâ€™ is private within this context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//cout &lt;&lt; pub-&gt;protInt &lt;&lt; endl; //error: â€˜int Base::protIntâ€™ is protected within this context
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="private">private</h3>
<p>Used to represent the is-implemented-in-terms-of relationship (default in C++). When inheriting, elements that can be accessed more loosely than private (elements defined as protected and public) in the parent class are inherited as private.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Priv</span> <span class="o">:</span> <span class="k">private</span> <span class="n">Base</span> <span class="c1">// is-implemented-in-terms-of (cover this later)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">Priv</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">pubInt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// public -&gt; private
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//privInt = 2; // cannot access as it is private in the parent class
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">protInt</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// protected -&gt; private
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Therefore, no element of the parent class can be accessed externally.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl">    <span class="n">Priv</span><span class="o">*</span> <span class="n">priv</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Priv</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//cout &lt;&lt; priv-&gt;pubInt &lt;&lt; endl; //error: â€˜int Base::pubIntâ€™ is inaccessible within this context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//cout &lt;&lt; priv-&gt;privInt &lt;&lt; endl; //error: â€˜int Base::privIntâ€™ is private within this context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//cout &lt;&lt; priv-&gt;protInt &lt;&lt; endl; //error: â€˜int Base::protIntâ€™ is protected within this context
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Furthermore, even if a new class is created that inherits from this class, no element of the grandparent class can be accessed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">GrandChild</span> <span class="o">:</span> <span class="n">Priv</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">GrandChild</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Cannot access any element of Base
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="protected">protected</h3>
<p>Used similarly to the private specifier to represent the is-implemented-in-terms-of relationship. It inherits public elements of the parent class as protected.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Prot</span> <span class="o">:</span> <span class="k">protected</span> <span class="n">Base</span> <span class="c1">// is-implemented-in-terms-of
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">Prot</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">pubInt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// public -&gt; protected
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//privInt = 2; // error: â€˜int Base::privIntâ€™ is private within this context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">protInt</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span><span class="c1">// protected
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Therefore, no element of the Base class can be accessed from outside.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl">    <span class="n">Prot</span><span class="o">*</span> <span class="n">prot</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Prot</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//cout &lt;&lt; prot-&gt;pubInt &lt;&lt; endl; //error: â€˜int Base::pubIntâ€™ is inaccessible within this context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//cout &lt;&lt; prot-&gt;privInt &lt;&lt; endl; //error: â€˜int Base::privIntâ€™ is private within this context
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//cout &lt;&lt; prot-&gt;protInt &lt;&lt; endl; // error: â€˜int Base::protIntâ€™ is protected within this context
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Similarly, when creating a class that inherits it, you can access the elements of the great-grandparent class.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">GrandChild2</span> <span class="o">:</span> <span class="n">Prot</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">GrandChild2</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">pubInt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// because it is specified protected
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">protInt</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// because it is specified protected
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>However, since it was inherited as private by default, access to <code>GrandChild2</code>&rsquo;s <code>pubInt</code> and <code>protInt</code> elements from outside is not allowed.</p>
<h3 id="casting">casting</h3>
<p>The support for casting in each case is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// upcasting check
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Base</span> <span class="o">*</span><span class="n">ptr1</span><span class="p">,</span> <span class="o">*</span><span class="n">ptr2</span><span class="p">,</span> <span class="o">*</span><span class="n">ptr3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">ptr1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Pub</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//ptr2 = new Priv(); // error: â€˜Baseâ€™ is an inaccessible base of â€˜Privâ€™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//ptr3 = new Prot(); // error: â€˜Baseâ€™ is an inaccessible base of â€˜Protâ€™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// downcasting check
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Base</span><span class="o">*</span> <span class="n">base</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Base</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">Pub</span><span class="o">*</span> <span class="n">pub_down</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">Pub</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">base</span><span class="p">);</span> <span class="c1">// Compile-time check. Does not worry about polymorphism
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// Pub* pub_down = dynamic_cast&lt;Pub*&gt;(base); //  (source type is not polymorphic) error because there are no virtual functions
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// Priv* priv_down = static_cast&lt;Priv*&gt;(base); // error: â€˜Baseâ€™ is an inaccessible base of â€˜Privâ€™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// Prot* prot_down = static_cast&lt;Prot*&gt;(base); // error: â€˜Baseâ€™ is an inaccessible base of â€˜Protâ€™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="k">delete</span> <span class="n">ptr1</span><span class="p">,</span> <span class="n">ptr2</span><span class="p">,</span> <span class="n">ptr3</span><span class="p">,</span> <span class="n">pub_down</span><span class="p">,</span> <span class="n">base</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Someone familiar with other languages or who has never really thought about access modifiers in inheritance while developing might wonder what exactly is meant by <strong>is-implemented-in-terms-of</strong> for non-public inheritance.</p>
<h2 id="is-implemented-in-terms-of">Is-Implemented-In-Terms-Of</h2>
<p>In general programming languages, the <strong>is-a</strong> relationship is represented using inheritance (public inheritance in the case of C++) and the <strong>has-a</strong> relationship is represented using composition (containment or aggregation) to model relationships between objects.
In addition to the above two concepts, C++ uses the term <strong>is-implemented-in-terms-of</strong> to indicate relationships between objects.</p>
<p>As the name suggests, <strong>is-implemented-in-terms-of</strong> refers to a situation where one object behaves using another object.
Therefore, <strong>is-implemented-in-terms-of</strong> can also be represented in C++ using composition.
So, what is the difference between <strong>has-a</strong> and <strong>is-implemented-in-terms-of</strong>? The criterion separating the two relationships is the domain.</p>
<p>The <strong>has-a</strong> relationship is used to model an application domain that can be easily understood from everyday life in programming.
For example, application domains like people, communication methods, transportation methods can be modeled as <strong>has-a</strong> relationships.
On the other hand, <strong>is-implemented-in-terms-of</strong> signifies purely the domain of software implementation. Examples include buffers, mutexes, search trees, etc.</p>
<p>In C++, the <strong>has-a</strong> relationship can be implemented using composition, similar to other languages.
On the other hand, the <strong>is-implemented-in-terms-of</strong> relationship can be implemented using composition like <strong>has-a</strong> or using non-public inheritance.</p>
<p>Knowing that, when should we use non-public inheritance for implementation, and when should we use composition for it?
Let&rsquo;s look at classes implemented using both methods and see which approach is better.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyList</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span>   <span class="n">Insert</span><span class="p">(</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">index</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">T</span>      <span class="nf">Access</span><span class="p">(</span> <span class="n">size_t</span> <span class="n">index</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">size_t</span> <span class="nf">Size</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">T</span><span class="o">*</span>     <span class="n">buf_</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">size_t</span> <span class="n">bufsize_</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MySet1</span> <span class="o">:</span> <span class="k">private</span> <span class="n">MyList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span>   <span class="n">Add</span><span class="p">(</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="p">);</span> <span class="c1">// calls Insert()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">T</span>      <span class="nf">Get</span><span class="p">(</span> <span class="n">size_t</span> <span class="n">index</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// calls Access()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">using</span> <span class="n">MyList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">Size</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">//...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MySet2</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span>   <span class="n">Add</span><span class="p">(</span> <span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span> <span class="p">);</span> <span class="c1">// calls impl_.Insert()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">T</span>      <span class="nf">Get</span><span class="p">(</span> <span class="n">size_t</span> <span class="n">index</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// calls impl_.Access()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">size_t</span> <span class="nf">Size</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>    <span class="c1">// calls impl_.Size();
</span></span></span><span class="line"><span class="cl"><span class="c1">//...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">MyList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">impl_</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="implementing-with-inheritance-vs-implementing-with-composition">Implementing with Inheritance vs. Implementing with Composition</h3>
<p>As can be seen from the example code above, everything that can be achieved with a single composition can also be implemented using inheritance. So, why does C++ differentiate between <strong>public</strong>, <strong>private</strong>, and <strong>protected</strong> inheritance?</p>
<p>The reason is that there are some cases in which something can be achieved with non-public inheritance but not with single composition.
Below are 5 items, listed from the most common cases, where each condition applies:</p>
<ul>
<li><strong>When there is a need to access protected members.</strong> Usually refers to cases where protected methods (or constructors) need to be called.</li>
<li><strong>When there is a need to override virtual functions.</strong> If the base class has a pure virtual function, composition cannot be used.</li>
<li><strong>When one implementation needs to be created (or destroyed) before another implementation is created.</strong> If multiple implementations are interdependent such that the lifetime of one implementation needs to cover the lifetimes of all others, something like a critical section or data transaction requiring a lock, then non-public inheritance is preferred.</li>
<li><strong>When there is a need to share virtual base classes and changes in the construction of virtual base classes are necessary.</strong></li>
</ul>
<p>However, besides <strong>is-implemented-in-terms-of</strong>, which strays away, there is also another characteristic unique to non-public inheritance that cannot be implemented with composition alone.</p>
<ul>
<li><strong>When &lsquo;restricted polymorphism&rsquo; is necessary</strong>; when limited Liskov substitution is required in some parts of the code. Public inheritance always allows Liskov substitution.
On the other hand, non-public inheritance can represent a &lsquo;restricted&rsquo; IS-A relationship. Even though it may not feel very polymorphic from outside the class hierarchy (Derived is not a Base), there might be cases where polymorphism is needed inside member functions or friends.</li>
</ul>
<p>Let&rsquo;s take another look at the MySet and MyList code. In this case,</p>
<ul>
<li>MyList does not have any protected members.</li>
<li>MyList is not an abstract class.</li>
<li>MySet does not inherit any other class besides MyList.</li>
<li>MyList does not inherit a virtual base class required for or shared with MySet.</li>
<li>MySet is not a MyList. MySet is-not-a MyList.</li>
</ul>
<p>Since none of the five situations above apply, it is advisable to implement it using composition rather than inheritance. Inheritance can expose unnecessary information to child classes and create more dependency than necessary.</p>
<p>Although I feel that C++ has a lot of ways to implement object relationships compared to other languages, understanding these methods seems not only easy but also something that should not be overused as it can violate object-oriented principles.</p>
<h2 id="polymorphism">Polymorphism</h2>
<p>Polymorphism refers to the ability of the same operator or method to perform different functions. In C++, polymorphism can be implemented through operator/method overloading and method overriding.
Method overriding, along with the virtual keyword, is what we will look into further this time.</p>
<h3 id="virtual">virtual</h3>
<p>In C++, the <strong>virtual</strong> keyword is used when declaring virtual functions and when inheriting a virtual base class.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// syntax
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">virtual</span> <span class="p">[</span><span class="n">type</span><span class="o">-</span><span class="n">specifiers</span><span class="p">]</span> <span class="n">member_function_declarator</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Class_Name</span> <span class="o">:</span> <span class="k">virtual</span> <span class="p">[</span><span class="n">access</span><span class="o">-</span><span class="n">specifier</span><span class="p">]</span> <span class="n">Base_Class_Name</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Class_Name</span> <span class="o">:</span> <span class="p">[</span><span class="n">access</span><span class="o">-</span><span class="n">specifier</span><span class="p">]</span> <span class="k">virtual</span> <span class="n">Base_Class_Name</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="virtual-function">Virtual Function</h4>
<p>Virtual functions are used to declare functions that child classes will override for polymorphism. Functions declared as virtual are registered in a vTable by the compiler for each class instance. The vPtr (virtual pointer) accesses these at runtime to determine which function to call.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="c1">// C++ program to show the working of vtable and vptr 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"> 
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1">// base class 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Base</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span> 
</span></span><span class="line"><span class="cl">    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">function1</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">    <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base function1()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">}</span> 
</span></span><span class="line"><span class="cl">    <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">function2</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">    <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base function2()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">}</span> 
</span></span><span class="line"><span class="cl">    <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">function3</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">    <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Base function3()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">}</span> 
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1">// class derived from Base 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Derived1</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Base</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span> 
</span></span><span class="line"><span class="cl">    <span class="c1">// overriding function1() 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">void</span> <span class="n">function1</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">    <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Derived1 function1()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">}</span> 
</span></span><span class="line"><span class="cl">    <span class="c1">// not overriding function2() and function3() 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">};</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1">// class derived from Derived1 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">class</span> <span class="nc">Derived2</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Derived1</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span> 
</span></span><span class="line"><span class="cl">    <span class="c1">// again overriding function2() 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">void</span> <span class="n">function2</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">    <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Derived2 function2()&#34;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">}</span> 
</span></span><span class="line"><span class="cl">    <span class="c1">// not overriding function1() and function3() 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">};</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1">// driver code 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl"><span class="p">{</span> 
</span></span><span class="line"><span class="cl">    <span class="c1">// defining base class pointers 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Base</span><span class="o">*</span> <span class="n">ptr1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Base</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">Base</span><span class="o">*</span> <span class="n">ptr2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Derived1</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">Base</span><span class="o">*</span> <span class="n">ptr3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Derived2</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">    <span class="c1">// calling all functions 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">ptr1</span><span class="o">-&gt;</span><span class="n">function1</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">ptr1</span><span class="o">-&gt;</span><span class="n">function2</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">ptr1</span><span class="o">-&gt;</span><span class="n">function3</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">ptr2</span><span class="o">-&gt;</span><span class="n">function1</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">ptr2</span><span class="o">-&gt;</span><span class="n">function2</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">ptr2</span><span class="o">-&gt;</span><span class="n">function3</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">ptr3</span><span class="o">-&gt;</span><span class="n">function1</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">ptr3</span><span class="o">-&gt;</span><span class="n">function2</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">    <span class="n">ptr3</span><span class="o">-&gt;</span><span class="n">function3</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">    <span class="c1">// deleting objects 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">delete</span> <span class="n">ptr1</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="k">delete</span> <span class="n">ptr2</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="k">delete</span> <span class="n">ptr3</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="virtual-base-class">Virtual Base Class</h4>
<p>C++ allows multiple inheritance. When an instance is created, the parent is created in memory first, followed by the child&rsquo;s constructor being called. So, what happens if one class has different parents, but the same grandparent?</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"> 
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">A</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span> 
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="n">show</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">    <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Hello from A </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">}</span> 
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">B</span> <span class="o">:</span> <span class="k">public</span> <span class="n">A</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">C</span> <span class="o">:</span> <span class="k">public</span> <span class="n">A</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">D</span> <span class="o">:</span> <span class="k">public</span> <span class="n">B</span><span class="p">,</span> <span class="k">public</span> <span class="n">C</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl"><span class="p">{</span> 
</span></span><span class="line"><span class="cl">    <span class="n">D</span> <span class="n">object</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="n">object</span><span class="p">.</span><span class="n">show</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><p>In this case, A would try to occupy memory twice. Fortunately, the compiler detects this and throws an error.
Actually, such an inheritance structure may cause the diamond problem, which is why it is not recommended.</p>
<p>However, if you still want to call A&rsquo;s <code>show()</code>, B and C should inherit A as a virtual base class.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">A</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="k">public</span><span class="o">:</span> 
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="n">show</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">    <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&#34;Hello from A </span><span class="se">\n</span><span class="s">&#34;</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">}</span> 
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">B</span> <span class="o">:</span> <span class="k">virtual</span> <span class="k">public</span> <span class="n">A</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">C</span> <span class="o">:</span> <span class="k">public</span> <span class="k">virtual</span> <span class="n">A</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl"><span class="p">};</span> 
</span></span><span class="line"><span class="cl"><span class="c1">// Both syntaxes are valid
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="references">References</h2>
<ul>
<li><a class="link" href="https://aristeia.com/books.html"  target="_blank" rel="noopener"
    >&ldquo;Effective C++â€ Third Edition by Scott Meyers.</a></li>
<li><a class="link" href="http://www.gotw.ca/publications/mill06.htm"  target="_blank" rel="noopener"
    >Uses and Abuses of Inheritance</a></li>
<li><a class="link" href="https://stackoverflow.com/questions/860339/what-is-the-difference-between-public-private-and-protected-inheritance"  target="_blank" rel="noopener"
    >What is the difference between public, private, and protected inheritance?</a></li>
<li><a class="link" href="https://learn.microsoft.com/ko-kr/cpp/cpp/virtual-cpp?view=msvc-170"  target="_blank" rel="noopener"
    >virtual (C++)</a></li>
<li><a class="link" href="https://www.geeksforgeeks.org/cpp-polymorphism/"  target="_blank" rel="noopener"
    >C++ Polymorphism</a></li>
<li><a class="link" href="https://www.geeksforgeeks.org/vtable-and-vptr-in-cpp/"  target="_blank" rel="noopener"
    >vTable And vPtr in C++</a></li>
<li><a class="link" href="https://www.geeksforgeeks.org/virtual-base-class-in-c/"  target="_blank" rel="noopener"
    >Virtual base class in C++</a></li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/en/tags/technical-interview/">Technical Interview</a>
        
            <a href="/en/tags/language/">Language</a>
        
            <a href="/en/tags/cpp/">Cpp</a>
        
            <a href="/en/tags/cs/">Cs</a>
        
            <a href="/en/tags/interview/">Interview</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2023 - 
        
        2024 Sanghoon, Han
    </section>
    
    <section class="powerby">
         <br />
        
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://lib.baomitu.com/photoswipe/4.1.3/photoswipe.min.js"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://lib.baomitu.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://lib.baomitu.com/photoswipe/4.1.3/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://lib.baomitu.com/photoswipe/4.1.3/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src=""crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
